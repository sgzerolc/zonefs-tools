## Test 0321: Sequential file random read (direct)

/usr/local/bin/fio
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: c1d31890-9396-4c5b-a0d4-77845c23c518
Resetting sequential zones
Writing super block
Fill sequential file
seqwrite: (g=0): rw=write, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process
seqwrite: Laying out IO file (1 file / 64MiB)

seqwrite: (groupid=0, jobs=1): err= 0: pid=5919: Mon Dec 18 02:11:55 2023
  read: IOPS=2612, BW=327MiB/s (342MB/s)(64.0MiB/196msec)
    slat (nsec): min=9273, max=98629, avg=18186.96, stdev=5945.82
    clat (usec): min=317, max=16605, avg=2655.80, stdev=1817.51
     lat (usec): min=335, max=16621, avg=2673.98, stdev=1818.62
    clat percentiles (usec):
     |  1.00th=[ 1090],  5.00th=[ 2343], 10.00th=[ 2343], 20.00th=[ 2376],
     | 30.00th=[ 2376], 40.00th=[ 2376], 50.00th=[ 2376], 60.00th=[ 2409],
     | 70.00th=[ 2409], 80.00th=[ 2409], 90.00th=[ 2442], 95.00th=[ 2507],
     | 99.00th=[16581], 99.50th=[16581], 99.90th=[16581], 99.95th=[16581],
     | 99.99th=[16581]
  write: IOPS=2392, BW=299MiB/s (314MB/s)(64.0MiB/214msec); 0 zone resets
    slat (usec): min=315, max=1789, avg=410.54, stdev=171.90
    clat (usec): min=246, max=8015, avg=2848.54, stdev=1078.58
     lat (usec): min=595, max=9709, avg=3259.08, stdev=1243.04
    clat percentiles (usec):
     |  1.00th=[ 2114],  5.00th=[ 2507], 10.00th=[ 2507], 20.00th=[ 2540],
     | 30.00th=[ 2573], 40.00th=[ 2573], 50.00th=[ 2573], 60.00th=[ 2606],
     | 70.00th=[ 2606], 80.00th=[ 2606], 90.00th=[ 2769], 95.00th=[ 5407],
     | 99.00th=[ 7832], 99.50th=[ 7963], 99.90th=[ 8029], 99.95th=[ 8029],
     | 99.99th=[ 8029]
  lat (usec)   : 250=0.10%, 500=0.20%, 750=0.20%, 1000=0.20%
  lat (msec)   : 2=0.78%, 4=93.85%, 10=4.00%, 20=0.68%
  cpu          : usr=83.82%, sys=6.37%, ctx=1058, majf=0, minf=27
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,512,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=327MiB/s (342MB/s), 327MiB/s-327MiB/s (342MB/s-342MB/s), io=64.0MiB (67.1MB), run=196-196msec
  WRITE: bw=299MiB/s (314MB/s), 299MiB/s-299MiB/s (314MB/s-314MB/s), io=64.0MiB (67.1MB), run=214-214msec

Disk stats (read/write):
  vda: ios=477/505, merge=0/7, ticks=87/154, in_queue=241, util=76.21%
Check sequential file random read (sync)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=psync, iodepth=1
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=5930: Mon Dec 18 02:11:55 2023
  read: IOPS=1605, BW=201MiB/s (210MB/s)(64.0MiB/319msec)
    clat (usec): min=147, max=9199, avg=284.57, stdev=404.33
     lat (usec): min=147, max=9199, avg=284.92, stdev=404.36
    clat percentiles (usec):
     |  1.00th=[  169],  5.00th=[  190], 10.00th=[  204], 20.00th=[  225],
     | 30.00th=[  231], 40.00th=[  237], 50.00th=[  245], 60.00th=[  260],
     | 70.00th=[  273], 80.00th=[  297], 90.00th=[  318], 95.00th=[  424],
     | 99.00th=[  668], 99.50th=[  898], 99.90th=[ 9241], 99.95th=[ 9241],
     | 99.99th=[ 9241]
  lat (usec)   : 250=53.71%, 500=42.77%, 750=2.93%, 1000=0.39%
  lat (msec)   : 10=0.20%
  cpu          : usr=51.26%, sys=7.23%, ctx=525, majf=0, minf=44
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=201MiB/s (210MB/s), 201MiB/s-201MiB/s (210MB/s-210MB/s), io=64.0MiB (67.1MB), run=319-319msec

Disk stats (read/write):
  vda: ios=230/0, merge=0/0, ticks=54/0, in_queue=54, util=58.70%
Check sequential file random read (async)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=5939: Mon Dec 18 02:11:56 2023
  read: IOPS=2813, BW=352MiB/s (369MB/s)(64.0MiB/182msec)
    slat (usec): min=15, max=273, avg=22.14, stdev=19.29
    clat (usec): min=313, max=3764, avg=2442.61, stdev=245.39
     lat (usec): min=332, max=4038, avg=2464.76, stdev=249.44
    clat percentiles (usec):
     |  1.00th=[ 1680],  5.00th=[ 2376], 10.00th=[ 2376], 20.00th=[ 2376],
     | 30.00th=[ 2409], 40.00th=[ 2409], 50.00th=[ 2409], 60.00th=[ 2442],
     | 70.00th=[ 2442], 80.00th=[ 2474], 90.00th=[ 2540], 95.00th=[ 2606],
     | 99.00th=[ 3523], 99.50th=[ 3621], 99.90th=[ 3752], 99.95th=[ 3752],
     | 99.99th=[ 3752]
  lat (usec)   : 500=0.20%, 750=0.20%, 1000=0.20%
  lat (msec)   : 2=0.98%, 4=98.44%
  cpu          : usr=88.40%, sys=8.29%, ctx=2, majf=0, minf=267
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=352MiB/s (369MB/s), 352MiB/s-352MiB/s (369MB/s-369MB/s), io=64.0MiB (67.1MB), run=182-182msec

Disk stats (read/write):
  vda: ios=413/0, merge=0/0, ticks=70/0, in_queue=70, util=59.51%
PASS

