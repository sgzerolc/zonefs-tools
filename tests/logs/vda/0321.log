## Test 0321: Sequential file random read (direct)

/usr/local/bin/fio
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 8ff92ea5-a8b5-41e4-82aa-fa7df5c2cc46
Resetting sequential zones
Writing super block
Fill sequential file
seqwrite: (g=0): rw=write, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process
seqwrite: Laying out IO file (1 file / 64MiB)

seqwrite: (groupid=0, jobs=1): err= 0: pid=3643: Mon Jan 16 15:53:55 2023
  read: IOPS=4876, BW=610MiB/s (639MB/s)(64.0MiB/105msec)
    slat (nsec): min=4906, max=26654, avg=9480.49, stdev=2131.86
    clat (usec): min=151, max=1621, avg=1409.41, stdev=129.93
     lat (usec): min=167, max=1627, avg=1418.89, stdev=129.98
    clat percentiles (usec):
     |  1.00th=[  635],  5.00th=[ 1385], 10.00th=[ 1385], 20.00th=[ 1385],
     | 30.00th=[ 1401], 40.00th=[ 1401], 50.00th=[ 1418], 60.00th=[ 1418],
     | 70.00th=[ 1434], 80.00th=[ 1467], 90.00th=[ 1483], 95.00th=[ 1500],
     | 99.00th=[ 1549], 99.50th=[ 1582], 99.90th=[ 1614], 99.95th=[ 1614],
     | 99.99th=[ 1614]
  write: IOPS=4530, BW=566MiB/s (594MB/s)(64.0MiB/113msec); 0 zone resets
    slat (usec): min=187, max=326, avg=215.32, stdev=13.86
    clat (usec): min=138, max=1956, avg=1524.07, stdev=114.81
     lat (usec): min=345, max=2145, avg=1739.39, stdev=114.41
    clat percentiles (usec):
     |  1.00th=[ 1221],  5.00th=[ 1483], 10.00th=[ 1483], 20.00th=[ 1500],
     | 30.00th=[ 1500], 40.00th=[ 1516], 50.00th=[ 1516], 60.00th=[ 1532],
     | 70.00th=[ 1549], 80.00th=[ 1565], 90.00th=[ 1582], 95.00th=[ 1598],
     | 99.00th=[ 1860], 99.50th=[ 1926], 99.90th=[ 1958], 99.95th=[ 1958],
     | 99.99th=[ 1958]
  lat (usec)   : 250=0.29%, 500=0.29%, 750=0.29%, 1000=0.39%
  lat (msec)   : 2=98.73%
  cpu          : usr=88.89%, sys=5.09%, ctx=1009, majf=0, minf=30
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,512,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=610MiB/s (639MB/s), 610MiB/s-610MiB/s (639MB/s-639MB/s), io=64.0MiB (67.1MB), run=105-105msec
  WRITE: bw=566MiB/s (594MB/s), 566MiB/s-566MiB/s (594MB/s-594MB/s), io=64.0MiB (67.1MB), run=113-113msec

Disk stats (read/write):
  vda: ios=173/505, merge=0/7, ticks=14/52, in_queue=65, util=59.51%
Check sequential file random read (sync)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=psync, iodepth=1
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=3651: Mon Jan 16 15:53:56 2023
  read: IOPS=2737, BW=342MiB/s (359MB/s)(64.0MiB/187msec)
    clat (usec): min=91, max=507, avg=162.22, stdev=38.34
     lat (usec): min=91, max=507, avg=162.40, stdev=38.35
    clat percentiles (usec):
     |  1.00th=[  102],  5.00th=[  113], 10.00th=[  126], 20.00th=[  141],
     | 30.00th=[  145], 40.00th=[  147], 50.00th=[  153], 60.00th=[  159],
     | 70.00th=[  172], 80.00th=[  190], 90.00th=[  208], 95.00th=[  233],
     | 99.00th=[  281], 99.50th=[  293], 99.90th=[  506], 99.95th=[  506],
     | 99.99th=[  506]
  lat (usec)   : 100=0.98%, 250=96.29%, 500=2.54%, 750=0.20%
  cpu          : usr=57.53%, sys=2.15%, ctx=518, majf=0, minf=44
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=342MiB/s (359MB/s), 342MiB/s-342MiB/s (359MB/s-359MB/s), io=64.0MiB (67.1MB), run=187-187msec

Disk stats (read/write):
  vda: ios=400/0, merge=0/0, ticks=60/0, in_queue=59, util=59.92%
Check sequential file random read (async)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=3657: Mon Jan 16 15:53:56 2023
  read: IOPS=4697, BW=587MiB/s (616MB/s)(64.0MiB/109msec)
    slat (nsec): min=7228, max=47173, avg=10601.31, stdev=3825.98
    clat (usec): min=187, max=3957, avg=1466.99, stdev=321.62
     lat (usec): min=196, max=4003, avg=1477.59, stdev=323.07
    clat percentiles (usec):
     |  1.00th=[  799],  5.00th=[ 1385], 10.00th=[ 1385], 20.00th=[ 1401],
     | 30.00th=[ 1401], 40.00th=[ 1401], 50.00th=[ 1418], 60.00th=[ 1434],
     | 70.00th=[ 1450], 80.00th=[ 1483], 90.00th=[ 1500], 95.00th=[ 1532],
     | 99.00th=[ 3392], 99.50th=[ 3818], 99.90th=[ 3949], 99.95th=[ 3949],
     | 99.99th=[ 3949]
  lat (usec)   : 250=0.39%, 500=0.39%, 750=0.20%, 1000=0.39%
  lat (msec)   : 2=95.90%, 4=2.73%
  cpu          : usr=90.74%, sys=1.85%, ctx=6, majf=0, minf=267
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=587MiB/s (616MB/s), 587MiB/s-587MiB/s (616MB/s-616MB/s), io=64.0MiB (67.1MB), run=109-109msec

Disk stats (read/write):
  vda: ios=0/0, merge=0/0, ticks=0/0, in_queue=0, util=0.00%
PASS

