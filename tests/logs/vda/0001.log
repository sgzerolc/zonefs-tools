## Test 0001: mkzonefs (options)

Check mkzonefs command: mkzonefs  /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 4c13b0a9-37da-44a2-92fc-7aea1e87edfd
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -h /dev/vda
Usage: mkzonefs [options] <device path>
Options:
  --version     : Print version number and exit
  --help | -h   : General help message
  -v            : Verbose output
  -f            : Force overwrite of existing content
  -o <features>	: Optional features
See "man mkzonefs" for more information
Check mkzonefs command: mkzonefs --help /dev/vda
Usage: mkzonefs [options] <device path>
Options:
  --version     : Print version number and exit
  --help | -h   : General help message
  -v            : Verbose output
  -f            : Force overwrite of existing content
  -o <features>	: Optional features
See "man mkzonefs" for more information
Check mkzonefs command: mkzonefs --help /dev/vda
Usage: mkzonefs [options] <device path>
Options:
  --version     : Print version number and exit
  --help | -h   : General help message
  -v            : Verbose output
  -f            : Force overwrite of existing content
  -o <features>	: Optional features
See "man mkzonefs" for more information
Check mkzonefs command: mkzonefs -v /dev/vda
Zone 00000: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 0, 131072 sectors, wp sector 0
Zone 00001: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 131072, 131072 sectors, wp sector 131072
Zone 00002: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 262144, 131072 sectors, wp sector 262144
Zone 00003: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 393216, 131072 sectors, wp sector 393216
Zone 00004: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 524288, 131072 sectors, wp sector 524288
Zone 00005: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 655360, 131072 sectors, wp sector 655360
Zone 00006: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 786432, 131072 sectors, wp sector 786432
Zone 00007: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 917504, 131072 sectors, wp sector 917504
Zone 00008: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 1048576, 131072 sectors, wp sector 1048576
Zone 00009: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 1179648, 131072 sectors, wp sector 1179648
Zone 00010: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 1310720, 131072 sectors, wp sector 1310720
Zone 00011: type 0x2 (Sequential-write-required), cond 0x1 (Empty), sector 1441792, 131072 sectors, wp sector 1441792
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 29376240-1475-4d54-a5eb-6c5a01463e1b
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -f /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 16aa9d89-e2c2-4a49-bf02-d7d8cb01ebfe
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -o aggr_cnv /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: enabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 8e8706cf-ccfb-4c08-b1e3-38d9494ad37a
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -o uid=0 /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 767a4190-91fd-4f67-82c9-94d5e8fbb8fa
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -o gid=0 /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 21e5e414-dd8b-46f8-b35c-cd53700faf1c
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -o perm=777 /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 777
  FS UUID: 3f784526-579c-473e-97cd-e0e0abc58aba
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -o aggr_cnv,uid=0,gid=0,perm=777 /dev/vda
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: enabled
  File UID: 0
  File GID: 0
  File access permissions: 777
  FS UUID: 114a4d89-226c-4955-b395-ec8fc3550dcd
Resetting sequential zones
Writing super block
Check mkzonefs command: mkzonefs -bad-option /dev/vda
Invalid option '-bad-option'
Check mkzonefs command: mkzonefs -o /dev/vda
Invalid command line
Check mkzonefs command: mkzonefs -o invalid_feature /dev/vda
Invalid feature string
Check mkzonefs command: mkzonefs -o invalid,,list /dev/vda
Invalid feature string
PASS

