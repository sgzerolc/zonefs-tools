## Test 0320: Sequential file random read (buffered)

/usr/local/bin/fio
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: ce66804a-9edc-4b90-8750-77d87917a3d7
Resetting sequential zones
Writing super block
Fill sequential file
seqwrite: (g=0): rw=write, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process
seqwrite: Laying out IO file (1 file / 64MiB)

seqwrite: (groupid=0, jobs=1): err= 0: pid=3611: Mon Jan 16 15:53:54 2023
  read: IOPS=4876, BW=610MiB/s (639MB/s)(64.0MiB/105msec)
    slat (nsec): min=5687, max=43599, avg=10030.42, stdev=2398.46
    clat (usec): min=169, max=1683, avg=1418.65, stdev=131.52
     lat (usec): min=184, max=1691, avg=1428.68, stdev=131.57
    clat percentiles (usec):
     |  1.00th=[  603],  5.00th=[ 1385], 10.00th=[ 1401], 20.00th=[ 1401],
     | 30.00th=[ 1401], 40.00th=[ 1418], 50.00th=[ 1418], 60.00th=[ 1434],
     | 70.00th=[ 1450], 80.00th=[ 1467], 90.00th=[ 1500], 95.00th=[ 1500],
     | 99.00th=[ 1663], 99.50th=[ 1663], 99.90th=[ 1680], 99.95th=[ 1680],
     | 99.99th=[ 1680]
  write: IOPS=4491, BW=561MiB/s (589MB/s)(64.0MiB/114msec); 0 zone resets
    slat (usec): min=193, max=438, avg=218.75, stdev=19.65
    clat (usec): min=187, max=1874, avg=1538.99, stdev=108.95
     lat (usec): min=394, max=2137, avg=1757.75, stdev=110.91
    clat percentiles (usec):
     |  1.00th=[ 1303],  5.00th=[ 1500], 10.00th=[ 1500], 20.00th=[ 1516],
     | 30.00th=[ 1516], 40.00th=[ 1532], 50.00th=[ 1532], 60.00th=[ 1549],
     | 70.00th=[ 1565], 80.00th=[ 1582], 90.00th=[ 1598], 95.00th=[ 1614],
     | 99.00th=[ 1827], 99.50th=[ 1844], 99.90th=[ 1876], 99.95th=[ 1876],
     | 99.99th=[ 1876]
  lat (usec)   : 250=0.29%, 500=0.29%, 750=0.29%, 1000=0.39%
  lat (msec)   : 2=98.73%
  cpu          : usr=86.24%, sys=7.80%, ctx=1077, majf=0, minf=28
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,512,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=610MiB/s (639MB/s), 610MiB/s-610MiB/s (639MB/s-639MB/s), io=64.0MiB (67.1MB), run=105-105msec
  WRITE: bw=561MiB/s (589MB/s), 561MiB/s-561MiB/s (589MB/s-589MB/s), io=64.0MiB (67.1MB), run=114-114msec

Disk stats (read/write):
  vda: ios=167/511, merge=0/1, ticks=16/70, in_queue=86, util=59.51%
Check sequential file random read (sync)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=psync, iodepth=1
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=3619: Mon Jan 16 15:53:54 2023
  read: IOPS=2752, BW=344MiB/s (361MB/s)(64.0MiB/186msec)
    clat (usec): min=94, max=386, avg=178.62, stdev=51.32
     lat (usec): min=94, max=386, avg=178.77, stdev=51.33
    clat percentiles (usec):
     |  1.00th=[  104],  5.00th=[  110], 10.00th=[  117], 20.00th=[  139],
     | 30.00th=[  147], 40.00th=[  157], 50.00th=[  167], 60.00th=[  182],
     | 70.00th=[  200], 80.00th=[  215], 90.00th=[  258], 95.00th=[  285],
     | 99.00th=[  318], 99.50th=[  330], 99.90th=[  388], 99.95th=[  388],
     | 99.99th=[  388]
  lat (usec)   : 100=0.39%, 250=88.87%, 500=10.74%
  cpu          : usr=48.11%, sys=11.89%, ctx=520, majf=0, minf=44
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=344MiB/s (361MB/s), 344MiB/s-344MiB/s (361MB/s-361MB/s), io=64.0MiB (67.1MB), run=186-186msec

Disk stats (read/write):
  vda: ios=406/0, merge=0/0, ticks=58/0, in_queue=58, util=59.51%
Check sequential file random read (async)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=3625: Mon Jan 16 15:53:55 2023
  read: IOPS=2639, BW=330MiB/s (346MB/s)(64.0MiB/194msec)
    slat (usec): min=103, max=1964, avg=190.58, stdev=93.11
    clat (usec): min=182, max=4820, avg=2619.67, stdev=389.84
     lat (usec): min=368, max=4992, avg=2810.25, stdev=412.92
    clat percentiles (usec):
     |  1.00th=[ 1647],  5.00th=[ 2278], 10.00th=[ 2376], 20.00th=[ 2442],
     | 30.00th=[ 2474], 40.00th=[ 2507], 50.00th=[ 2573], 60.00th=[ 2606],
     | 70.00th=[ 2671], 80.00th=[ 2769], 90.00th=[ 3032], 95.00th=[ 3195],
     | 99.00th=[ 4686], 99.50th=[ 4752], 99.90th=[ 4817], 99.95th=[ 4817],
     | 99.99th=[ 4817]
  lat (usec)   : 250=0.20%, 750=0.20%, 1000=0.20%
  lat (msec)   : 2=1.37%, 4=96.68%, 10=1.37%
  cpu          : usr=49.74%, sys=8.81%, ctx=523, majf=0, minf=267
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=330MiB/s (346MB/s), 330MiB/s-330MiB/s (346MB/s-346MB/s), io=64.0MiB (67.1MB), run=194-194msec

Disk stats (read/write):
  vda: ios=396/0, merge=0/0, ticks=59/0, in_queue=59, util=59.92%
PASS

