## Test 0320: Sequential file random read (buffered)

/usr/local/bin/fio
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: dee9bdd3-2223-4aa1-8572-0b064e80f02d
Resetting sequential zones
Writing super block
Fill sequential file
seqwrite: (g=0): rw=write, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process
seqwrite: Laying out IO file (1 file / 64MiB)

seqwrite: (groupid=0, jobs=1): err= 0: pid=5881: Mon Dec 18 02:11:53 2023
  read: IOPS=2942, BW=368MiB/s (386MB/s)(64.0MiB/174msec)
    slat (nsec): min=9407, max=82891, avg=16964.54, stdev=4025.50
    clat (usec): min=314, max=2806, avg=2348.62, stdev=196.53
     lat (usec): min=332, max=2815, avg=2365.58, stdev=196.72
    clat percentiles (usec):
     |  1.00th=[ 1188],  5.00th=[ 2343], 10.00th=[ 2343], 20.00th=[ 2343],
     | 30.00th=[ 2343], 40.00th=[ 2343], 50.00th=[ 2376], 60.00th=[ 2376],
     | 70.00th=[ 2376], 80.00th=[ 2409], 90.00th=[ 2409], 95.00th=[ 2442],
     | 99.00th=[ 2540], 99.50th=[ 2540], 99.90th=[ 2802], 99.95th=[ 2802],
     | 99.99th=[ 2802]
  write: IOPS=2197, BW=275MiB/s (288MB/s)(64.0MiB/233msec); 0 zone resets
    slat (usec): min=318, max=1991, avg=433.37, stdev=180.61
    clat (usec): min=287, max=10069, avg=3134.27, stdev=1426.72
     lat (usec): min=636, max=10439, avg=3567.64, stdev=1561.24
    clat percentiles (usec):
     |  1.00th=[ 2114],  5.00th=[ 2507], 10.00th=[ 2540], 20.00th=[ 2540],
     | 30.00th=[ 2573], 40.00th=[ 2802], 50.00th=[ 2835], 60.00th=[ 2835],
     | 70.00th=[ 2868], 80.00th=[ 2900], 90.00th=[ 3261], 95.00th=[ 7373],
     | 99.00th=[ 9765], 99.50th=[ 9896], 99.90th=[10028], 99.95th=[10028],
     | 99.99th=[10028]
  lat (usec)   : 500=0.20%, 750=0.29%, 1000=0.20%
  lat (msec)   : 2=0.78%, 4=94.43%, 10=3.91%, 20=0.20%
  cpu          : usr=86.21%, sys=5.67%, ctx=1061, majf=0, minf=27
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,512,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=368MiB/s (386MB/s), 368MiB/s-368MiB/s (386MB/s-386MB/s), io=64.0MiB (67.1MB), run=174-174msec
  WRITE: bw=275MiB/s (288MB/s), 275MiB/s-275MiB/s (288MB/s-288MB/s), io=64.0MiB (67.1MB), run=233-233msec

Disk stats (read/write):
  vda: ios=475/506, merge=0/6, ticks=80/169, in_queue=249, util=78.83%
Check sequential file random read (sync)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=psync, iodepth=1
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=5892: Mon Dec 18 02:11:54 2023
  read: IOPS=1479, BW=185MiB/s (194MB/s)(64.0MiB/346msec)
    clat (usec): min=182, max=9486, avg=320.62, stdev=434.69
     lat (usec): min=183, max=9486, avg=320.96, stdev=434.74
    clat percentiles (usec):
     |  1.00th=[  192],  5.00th=[  200], 10.00th=[  215], 20.00th=[  231],
     | 30.00th=[  239], 40.00th=[  245], 50.00th=[  251], 60.00th=[  262],
     | 70.00th=[  289], 80.00th=[  318], 90.00th=[  396], 95.00th=[  750],
     | 99.00th=[  824], 99.50th=[ 1037], 99.90th=[ 9503], 99.95th=[ 9503],
     | 99.99th=[ 9503]
  lat (usec)   : 250=48.05%, 500=44.14%, 750=2.93%, 1000=4.30%
  lat (msec)   : 2=0.39%, 10=0.20%
  cpu          : usr=51.01%, sys=10.43%, ctx=534, majf=0, minf=43
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=185MiB/s (194MB/s), 185MiB/s-185MiB/s (194MB/s-194MB/s), io=64.0MiB (67.1MB), run=346-346msec

Disk stats (read/write):
  vda: ios=177/0, merge=0/0, ticks=54/0, in_queue=53, util=58.70%
Check sequential file random read (async)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=5899: Mon Dec 18 02:11:54 2023
  read: IOPS=1565, BW=196MiB/s (205MB/s)(64.0MiB/327msec)
    slat (usec): min=162, max=1184, avg=296.64, stdev=141.22
    clat (usec): min=304, max=12754, avg=4384.91, stdev=1557.39
     lat (usec): min=658, max=13522, avg=4681.55, stdev=1683.22
    clat percentiles (usec):
     |  1.00th=[ 3261],  5.00th=[ 3621], 10.00th=[ 3687], 20.00th=[ 3785],
     | 30.00th=[ 3884], 40.00th=[ 3949], 50.00th=[ 4047], 60.00th=[ 4146],
     | 70.00th=[ 4293], 80.00th=[ 4359], 90.00th=[ 4490], 95.00th=[ 6980],
     | 99.00th=[12649], 99.50th=[12649], 99.90th=[12780], 99.95th=[12780],
     | 99.99th=[12780]
  lat (usec)   : 500=0.20%, 1000=0.20%
  lat (msec)   : 2=0.20%, 4=42.77%, 10=53.52%, 20=3.12%
  cpu          : usr=49.69%, sys=14.11%, ctx=519, majf=0, minf=267
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=196MiB/s (205MB/s), 196MiB/s-196MiB/s (205MB/s-205MB/s), io=64.0MiB (67.1MB), run=327-327msec

Disk stats (read/write):
  vda: ios=195/0, merge=0/0, ticks=53/0, in_queue=52, util=58.30%
PASS

