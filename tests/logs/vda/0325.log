## Test 0325: Sequential file read beyond eof

Check sequential file read beyond eof
/dev/vda: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  0 conventional zones, 12 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: a8ef09db-3319-435a-8ebd-a108c0619fad
Resetting sequential zones
Writing super block
1+0 records in
1+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 0.00750158 s, 546 kB/s
0+1 records in
0+1 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 0.000457124 s, 9.0 MB/s
Check sequential file read beyond max size
seqwrite: (g=0): rw=write, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process
seqwrite: Laying out IO file (1 file / 64MiB)

seqwrite: (groupid=0, jobs=1): err= 0: pid=6062: Mon Dec 18 02:12:01 2023
  read: IOPS=1889, BW=236MiB/s (247MB/s)(63.9MiB/271msec)
    slat (usec): min=12, max=168, avg=20.37, stdev= 9.57
    clat (usec): min=671, max=8492, avg=2660.53, stdev=914.59
     lat (usec): min=691, max=8505, avg=2680.91, stdev=914.51
    clat percentiles (usec):
     |  1.00th=[ 1926],  5.00th=[ 2343], 10.00th=[ 2376], 20.00th=[ 2376],
     | 30.00th=[ 2376], 40.00th=[ 2409], 50.00th=[ 2409], 60.00th=[ 2442],
     | 70.00th=[ 2573], 80.00th=[ 2606], 90.00th=[ 2802], 95.00th=[ 3785],
     | 99.00th=[ 8356], 99.50th=[ 8455], 99.90th=[ 8455], 99.95th=[ 8455],
     | 99.99th=[ 8455]
  write: IOPS=2235, BW=279MiB/s (292MB/s)(63.9MiB/229msec); 0 zone resets
    slat (usec): min=315, max=1731, avg=433.21, stdev=186.37
    clat (usec): min=993, max=8640, avg=3065.89, stdev=1192.10
     lat (usec): min=1369, max=9828, avg=3499.24, stdev=1364.40
    clat percentiles (usec):
     |  1.00th=[ 2507],  5.00th=[ 2573], 10.00th=[ 2573], 20.00th=[ 2638],
     | 30.00th=[ 2638], 40.00th=[ 2671], 50.00th=[ 2704], 60.00th=[ 2704],
     | 70.00th=[ 2769], 80.00th=[ 3064], 90.00th=[ 3294], 95.00th=[ 6194],
     | 99.00th=[ 8291], 99.50th=[ 8455], 99.90th=[ 8586], 99.95th=[ 8586],
     | 99.99th=[ 8586]
  lat (usec)   : 750=0.10%, 1000=0.10%
  lat (msec)   : 2=0.68%, 4=92.97%, 10=5.96%
  fsync/fdatasync/sync_file_range:
    sync (nsec): min=76354k, max=76354k, avg=76353604.00, stdev= 0.00
    sync percentiles (usec):
     |  1.00th=[76022],  5.00th=[76022], 10.00th=[76022], 20.00th=[76022],
     | 30.00th=[76022], 40.00th=[76022], 50.00th=[76022], 60.00th=[76022],
     | 70.00th=[76022], 80.00th=[76022], 90.00th=[76022], 95.00th=[76022],
     | 99.00th=[76022], 99.50th=[76022], 99.90th=[76022], 99.95th=[76022],
     | 99.99th=[76022]
  cpu          : usr=71.54%, sys=5.21%, ctx=865, majf=0, minf=28
  IO depths    : 1=0.3%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,512,0,1 short=1,1,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=236MiB/s (247MB/s), 236MiB/s-236MiB/s (247MB/s-247MB/s), io=63.9MiB (67.0MB), run=271-271msec
  WRITE: bw=279MiB/s (292MB/s), 279MiB/s-279MiB/s (292MB/s-292MB/s), io=63.9MiB (67.0MB), run=229-229msec

Disk stats (read/write):
  vda: ios=512/415, merge=0/98, ticks=149/442, in_queue=665, util=75.81%
1+0 records in
1+0 records out
8192 bytes (8.2 kB, 8.0 KiB) copied, 0.000924352 s, 8.9 MB/s
PASS

