## Test 0321: Sequential file random read (direct)

/usr/local/bin/fio
/dev/vdb: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  6 conventional zones, 6 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: disabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: c48b67c1-e13e-4622-8811-ee1cad9e2d71
Resetting sequential zones
Writing super block
Fill sequential file
seqwrite: (g=0): rw=write, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process
seqwrite: Laying out IO file (1 file / 64MiB)

seqwrite: (groupid=0, jobs=1): err= 0: pid=4208: Mon Jan 16 20:43:55 2023
  read: IOPS=4923, BW=615MiB/s (645MB/s)(64.0MiB/104msec)
    slat (nsec): min=5392, max=24440, avg=9561.27, stdev=1820.42
    clat (usec): min=196, max=1766, avg=1402.96, stdev=120.24
     lat (usec): min=206, max=1772, avg=1412.52, stdev=120.26
    clat percentiles (usec):
     |  1.00th=[  734],  5.00th=[ 1385], 10.00th=[ 1385], 20.00th=[ 1385],
     | 30.00th=[ 1385], 40.00th=[ 1401], 50.00th=[ 1401], 60.00th=[ 1418],
     | 70.00th=[ 1434], 80.00th=[ 1450], 90.00th=[ 1467], 95.00th=[ 1483],
     | 99.00th=[ 1532], 99.50th=[ 1565], 99.90th=[ 1762], 99.95th=[ 1762],
     | 99.99th=[ 1762]
  write: IOPS=3220, BW=403MiB/s (422MB/s)(64.0MiB/159msec); 0 zone resets
    slat (usec): min=195, max=2481, avg=301.76, stdev=226.93
    clat (usec): min=375, max=8314, avg=2104.52, stdev=1362.27
     lat (usec): min=573, max=9432, avg=2406.28, stdev=1564.21
    clat percentiles (usec):
     |  1.00th=[ 1500],  5.00th=[ 1532], 10.00th=[ 1565], 20.00th=[ 1582],
     | 30.00th=[ 1582], 40.00th=[ 1598], 50.00th=[ 1631], 60.00th=[ 1663],
     | 70.00th=[ 1696], 80.00th=[ 2024], 90.00th=[ 3032], 95.00th=[ 5080],
     | 99.00th=[ 8160], 99.50th=[ 8291], 99.90th=[ 8291], 99.95th=[ 8291],
     | 99.99th=[ 8291]
  lat (usec)   : 250=0.10%, 500=0.29%, 750=0.39%, 1000=0.39%
  lat (msec)   : 2=88.28%, 4=7.52%, 10=3.03%
  cpu          : usr=86.26%, sys=5.73%, ctx=1023, majf=0, minf=28
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,512,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=615MiB/s (645MB/s), 615MiB/s-615MiB/s (645MB/s-645MB/s), io=64.0MiB (67.1MB), run=104-104msec
  WRITE: bw=403MiB/s (422MB/s), 403MiB/s-403MiB/s (422MB/s-422MB/s), io=64.0MiB (67.1MB), run=159-159msec

Disk stats (read/write):
  vdb: ios=0/451, merge=0/6, ticks=0/89, in_queue=89, util=57.43%
Check sequential file random read (sync)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=psync, iodepth=1
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=4219: Mon Jan 16 20:43:55 2023
  read: IOPS=1422, BW=178MiB/s (186MB/s)(64.0MiB/360msec)
    clat (usec): min=131, max=4268, avg=355.51, stdev=244.50
     lat (usec): min=131, max=4269, avg=355.86, stdev=244.67
    clat percentiles (usec):
     |  1.00th=[  143],  5.00th=[  161], 10.00th=[  186], 20.00th=[  227],
     | 30.00th=[  258], 40.00th=[  285], 50.00th=[  310], 60.00th=[  343],
     | 70.00th=[  367], 80.00th=[  392], 90.00th=[  676], 95.00th=[  799],
     | 99.00th=[  857], 99.50th=[  898], 99.90th=[ 4293], 99.95th=[ 4293],
     | 99.99th=[ 4293]
  lat (usec)   : 250=27.34%, 500=61.13%, 750=2.54%, 1000=8.79%
  lat (msec)   : 10=0.20%
  cpu          : usr=46.80%, sys=5.01%, ctx=545, majf=0, minf=45
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=178MiB/s (186MB/s), 178MiB/s-178MiB/s (186MB/s-186MB/s), io=64.0MiB (67.1MB), run=360-360msec

Disk stats (read/write):
  vdb: ios=130/0, merge=0/0, ticks=64/0, in_queue=65, util=59.84%
Check sequential file random read (async)
seq_rndrd: (g=0): rw=randread, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=8
fio-3.32
Starting 1 process

seq_rndrd: (groupid=0, jobs=1): err= 0: pid=4228: Mon Jan 16 20:43:56 2023
  read: IOPS=3413, BW=427MiB/s (447MB/s)(64.0MiB/150msec)
    slat (usec): min=8, max=238, avg=16.91, stdev=24.30
    clat (usec): min=193, max=8500, avg=2018.87, stdev=1441.66
     lat (usec): min=203, max=8735, avg=2035.78, stdev=1457.93
    clat percentiles (usec):
     |  1.00th=[ 1205],  5.00th=[ 1385], 10.00th=[ 1401], 20.00th=[ 1401],
     | 30.00th=[ 1434], 40.00th=[ 1483], 50.00th=[ 1516], 60.00th=[ 1565],
     | 70.00th=[ 1631], 80.00th=[ 1909], 90.00th=[ 3097], 95.00th=[ 6587],
     | 99.00th=[ 7701], 99.50th=[ 8160], 99.90th=[ 8455], 99.95th=[ 8455],
     | 99.99th=[ 8455]
  lat (usec)   : 250=0.20%, 500=0.20%, 750=0.20%, 1000=0.20%
  lat (msec)   : 2=80.47%, 4=10.94%, 10=7.81%
  cpu          : usr=89.26%, sys=6.71%, ctx=3, majf=0, minf=267
  IO depths    : 1=0.2%, 2=0.4%, 4=0.8%, 8=98.6%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=99.8%, 8=0.2%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=512,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: bw=427MiB/s (447MB/s), 427MiB/s-427MiB/s (447MB/s-447MB/s), io=64.0MiB (67.1MB), run=150-150msec

Disk stats (read/write):
  vdb: ios=508/0, merge=0/0, ticks=98/0, in_queue=98, util=59.84%
PASS

