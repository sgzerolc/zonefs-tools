## Test 0219: Conventional file seq read (aggr_cnv, direct)

/usr/local/bin/fio
Check conventional file seq read, aggr_cnv, direct (sync)
/dev/vdb: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  6 conventional zones, 6 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: enabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 077858af-c67c-4728-bb17-7563e736040e
Resetting sequential zones
Writing super block
cnv_seqrd: (g=0): rw=read, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=psync, iodepth=1
fio-3.32
Starting 1 process

cnv_seqrd: (groupid=0, jobs=1): err= 0: pid=3778: Mon Jan 16 20:43:42 2023
  read: IOPS=7356, BW=920MiB/s (964MB/s)(320MiB/348msec)
    clat (usec): min=70, max=2812, avg=134.62, stdev=129.71
     lat (usec): min=70, max=2812, avg=134.75, stdev=129.88
    clat percentiles (usec):
     |  1.00th=[   79],  5.00th=[   83], 10.00th=[   86], 20.00th=[   90],
     | 30.00th=[   93], 40.00th=[   98], 50.00th=[  106], 60.00th=[  120],
     | 70.00th=[  128], 80.00th=[  139], 90.00th=[  165], 95.00th=[  231],
     | 99.00th=[  807], 99.50th=[  873], 99.90th=[ 1045], 99.95th=[ 2638],
     | 99.99th=[ 2802]
  lat (usec)   : 100=43.44%, 250=52.23%, 500=2.15%, 750=0.62%, 1000=1.45%
  lat (msec)   : 2=0.04%, 4=0.08%
  cpu          : usr=1.73%, sys=10.66%, ctx=2561, majf=0, minf=44
  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued rwts: total=2560,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=1

Run status group 0 (all jobs):
   READ: bw=920MiB/s (964MB/s), 920MiB/s-920MiB/s (964MB/s-964MB/s), io=320MiB (336MB), run=348-348msec

Disk stats (read/write):
  vdb: ios=815/0, merge=0/0, ticks=127/0, in_queue=127, util=59.04%
Check conventional file seq read, aggr_cnv, direct (async)
/dev/vdb: 1572864 512-byte sectors (0 GiB)
  Host-managed device
  12 zones of 131072 512-byte sectors (64 MiB)
  6 conventional zones, 6 sequential zones
  0 read-only zones, 0 offline zones
Format:
  11 usable zones
  Aggregate conventional zones: enabled
  File UID: 0
  File GID: 0
  File access permissions: 640
  FS UUID: 8f0f7bdb-cf42-4a35-bd95-f53fce2108e1
Resetting sequential zones
Writing super block
cnv_seqrd: (g=0): rw=read, bs=(R) 128KiB-128KiB, (W) 128KiB-128KiB, (T) 128KiB-128KiB, ioengine=libaio, iodepth=64
fio-3.32
Starting 1 process

cnv_seqrd: (groupid=0, jobs=1): err= 0: pid=3792: Mon Jan 16 20:43:42 2023
  read: IOPS=13.8k, BW=1720MiB/s (1804MB/s)(320MiB/186msec)
    slat (usec): min=4, max=2702, avg=21.38, stdev=63.69
    clat (usec): min=935, max=14214, avg=4462.31, stdev=2720.34
     lat (usec): min=944, max=14240, avg=4483.69, stdev=2738.36
    clat percentiles (usec):
     |  1.00th=[ 1631],  5.00th=[ 2802], 10.00th=[ 2900], 20.00th=[ 3064],
     | 30.00th=[ 3195], 40.00th=[ 3261], 50.00th=[ 3359], 60.00th=[ 3523],
     | 70.00th=[ 3949], 80.00th=[ 4883], 90.00th=[ 7832], 95.00th=[12649],
     | 99.00th=[13829], 99.50th=[13960], 99.90th=[14091], 99.95th=[14222],
     | 99.99th=[14222]
  lat (usec)   : 1000=0.12%
  lat (msec)   : 2=1.37%, 4=69.06%, 10=21.52%, 20=7.93%
  cpu          : usr=6.49%, sys=25.95%, ctx=1198, majf=0, minf=2059
  IO depths    : 1=0.1%, 2=0.1%, 4=0.2%, 8=0.3%, 16=0.6%, 32=1.2%, >=64=97.5%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, >=64=0.0%
     issued rwts: total=2560,0,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64

Run status group 0 (all jobs):
   READ: bw=1720MiB/s (1804MB/s), 1720MiB/s-1720MiB/s (1804MB/s-1804MB/s), io=320MiB (336MB), run=186-186msec

Disk stats (read/write):
  vdb: ios=1806/0, merge=0/0, ticks=8489/0, in_queue=8489, util=59.44%
PASS

